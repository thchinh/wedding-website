(()=>{var A=(()=>{let o='<span class="spinner-border spinner-border-sm my-0 ms-0 me-1 p-0" style="height: 0.8rem; width: 0.8rem;"></span>',r=[["*",'<strong class="text-theme-auto">$1</strong>'],["_",'<em class="text-theme-auto">$1</em>'],["~",'<del class="text-theme-auto">$1</del>'],["```",'<code class="font-monospace text-theme-auto">$1</code>']],c=[{type:"Mobile",regex:/Android.*Mobile|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i},{type:"Tablet",regex:/iPad|Android(?!.*Mobile)|Tablet/i},{type:"Desktop",regex:/Windows NT|Macintosh|Linux/i}],g=[{name:"Chrome",regex:/Chrome|CriOS/i},{name:"Safari",regex:/Safari/i},{name:"Edge",regex:/Edg|Edge/i},{name:"Firefox",regex:/Firefox|FxiOS/i},{name:"Opera",regex:/Opera|OPR/i},{name:"Internet Explorer",regex:/MSIE|Trident/i},{name:"Samsung Browser",regex:/SamsungBrowser/i}],f=[{name:"Windows",regex:/Windows NT ([\d.]+)/i},{name:"MacOS",regex:/Mac OS X ([\d_.]+)/i},{name:"Android",regex:/Android ([\d.]+)/i},{name:"iOS",regex:/OS ([\d_]+) like Mac OS X/i},{name:"Linux",regex:/Linux/i},{name:"Ubuntu",regex:/Ubuntu/i},{name:"Chrome OS",regex:/CrOS/i}],u=t=>String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),d=t=>{let w=y=>{window.alert(`${y} ${t}`)};return{success:()=>w("\u{1F7E9}"),error:()=>w("\u{1F7E5}"),warning:()=>w("\u{1F7E8}"),info:()=>w("\u{1F7E6}"),custom:y=>w(y)}},m=t=>window.confirm(`\u{1F7E6} ${t}`),i=(t,w)=>(t.replaceChildren(document.createRange().createContextualFragment(w)),t),x=(t,w,y=.05)=>new Promise(n=>{let s=parseFloat(t.style.opacity),S=w?1:0,b=()=>{s+=w?y:-y,s=Math.max(0,Math.min(1,s)),t.style.opacity=s.toFixed(2),w&&s>=S||!w&&s<=S?(t.style.opacity=S.toString(),n(t)):requestAnimationFrame(b)};requestAnimationFrame(b)}),p=(t,w=0)=>{let y=null;y=setTimeout(()=>{t(),clearTimeout(y),y=null},w)};return{loader:o,ask:m,copy:async(t,w=null,y=1500)=>{let n=t.getAttribute("data-copy");if(!n||n.length===0){d("Nothing to copy").warning();return}t.disabled=!0;try{await navigator.clipboard.writeText(n)}catch{t.disabled=!1,d("Failed to copy").error();return}let s=t.innerHTML;i(t,w||'<i class="fa-solid fa-check"></i>'),p(()=>{t.disabled=!1,t.innerHTML=s},y)},notify:d,timeOut:p,debounce:(t,w=100)=>{let y=null;return(...n)=>{clearTimeout(y),y=setTimeout(()=>t(...n),w)}},escapeHtml:u,base64Encode:t=>{let y=new TextEncoder().encode(t);return window.btoa(String.fromCharCode(...y))},base64Decode:t=>{let w=new TextDecoder,y=Uint8Array.from(window.atob(t),n=>n.charCodeAt(0));return w.decode(y)},disableButton:(t,w="Loading",y=!1)=>{t.disabled=!0;let n=t.innerHTML;return i(t,y?w:o+w),{restore:(s=!1)=>{t.innerHTML=n,t.disabled=s}}},disableCheckbox:t=>{t.disabled=!0;let w=document.querySelector(`label[for="${t.id}"]`),y=w.innerHTML;return i(w,o+y),{restore:()=>{w.innerHTML=y,t.disabled=!1}}},safeInnerHTML:i,parseUserAgent:t=>{if(!t||typeof t!="string")return"Unknown";let w=c.find(b=>b.regex.test(t))?.type??"Unknown",y=g.find(b=>b.regex.test(t))?.name??"Unknown",n=f.find(b=>b.regex.test(t)),s=n?n.name:"Unknown",S=n?t.match(n.regex)?.[1]?.replace(/_/g,".")??null:null;return`${y} ${w} ${S?`${s} ${S}`:s}`},changeOpacity:x,getGMTOffset:t=>{let w=new Date,y=new Intl.DateTimeFormat("en-US",{timeZone:t,hourCycle:"h23",hour:"numeric"}),n=(parseInt(y.format(w))-w.getUTCHours()+24)%24;return n>12&&(n-=24),`GMT${n>=0?"+":""}${n}`},convertMarkdownToHTML:t=>(r.forEach(([w,y])=>{t=t.replace(new RegExp(`\\${w}(\\S(?:[\\s\\S]*?\\S)?)\\${w}`,"g"),y)}),t)}})();var P=o=>{let r=(d=null)=>{let m=JSON.parse(localStorage.getItem(o));return d?m[String(d)]:m},c=(d,m)=>{let i=r();i[String(d)]=m,localStorage.setItem(o,JSON.stringify(i))},g=d=>Object.keys(r()).includes(String(d)),f=d=>{if(!g(d))return;let m=r();delete m[String(d)],localStorage.setItem(o,JSON.stringify(m))},u=()=>localStorage.setItem(o,"{}");return localStorage.getItem(o)||u(),{set:c,get:r,has:g,clear:u,unset:f}};var z=(()=>{let o=({uuid:p,own:e,name:a,presence:T,comment:C,created_at:l,is_admin:h,is_parent:E,gif_url:v,ip:I,user_agent:t,comments:w,like_count:y})=>({uuid:p,own:e,name:a,presence:T,comment:C,created_at:l,is_admin:h??!1,is_parent:E,gif_url:v,ip:I,user_agent:t,comments:w?.map(o)??[],like_count:y??0}),r=p=>p.map(o);return{uuidResponse:({uuid:p})=>({uuid:p}),tokenResponse:({token:p})=>({token:p}),statusResponse:({status:p})=>({status:p}),getCommentResponse:o,getCommentsResponse:r,getCommentsResponseV2:p=>({count:p.count,lists:r(p.lists)}),commentShowMore:(p,e=!1)=>({uuid:p,show:e}),postCommentRequest:(p,e,a,T,C)=>({id:p,name:e,presence:a,comment:T,gif_id:C}),postSessionRequest:(p,e)=>({email:p,password:e}),updateCommentRequest:(p,e,a)=>({presence:p,comment:e,gif_id:a})}})();var V="POST";var G="AbortError",ue="TypeError",W={Accept:"application/json","Content-Type":"application/json"},J="request",N=(()=>{let o=null;return{getInstance:r=>{if(!o||!o.has(r))throw new Error(`please init cache first: ${r}`);return o.get(r)},restart:async r=>{o.set(r,null),o.delete(r),await window.caches.delete(r),await window.caches.open(r).then(c=>o.set(r,c))},init:(r,c=[])=>{if(!window.isSecureContext)throw new Error("this application required secure context");o=new Map,Promise.all(c.concat([J]).map(g=>window.caches.open(g).then(f=>o.set(g,f)))).then(()=>r())}}})(),U=o=>{let r=N.getInstance(o);return{set:(u,d,m,i)=>d.clone().arrayBuffer().then(x=>{if(!d.ok)return d;let p=new Date,e=new Headers(d.headers);if(e.has("Date")||e.set("Date",p.toUTCString()),m||!e.has("Cache-Control")){if(!m&&e.has("Expires")){let a=new Date(e.get("Expires"));i=Math.max(0,a.getTime()-p.getTime())}if(i===0)throw new Error("Cache max age cannot be 0");e.set("Cache-Control",`public, max-age=${Math.floor(i/1e3)}`)}return e.has("Content-Length")||e.set("Content-Length",String(x.byteLength)),r.put(u,new Response(x,{headers:e})).then(()=>d)}),has:u=>r.match(u).then(d=>{if(!d)return null;let m=d.headers.get("Cache-Control").match(/max-age=(\d+)/)[1],i=Date.parse(d.headers.get("Date"))+parseInt(m)*1e3;return Date.now()>i?null:d}),del:u=>r.delete(u)}},H=(o,r)=>{let c=new AbortController,g={signal:c.signal,credential:"include",headers:new Headers(W),method:String(o).toUpperCase()},f=0,u=0,d=0,m=0,i=!1,x=!1,p=null,e=null,a=null,T=l=>{let h=()=>{let v=()=>window.fetch(l,g).then(async t=>{if(i)return c.abort(),new Response(null,{status:t.status,statusText:t.statusText,headers:new Headers(t.headers)});if(!t.ok||!a)return t;let w=parseInt(t.headers.get("Content-Length")??0);if(w===0)return t;let y=[],n=0,s=t.body.getReader();for(;;){let{done:b,value:M}=await s.read();if(b)break;y.push(M),n+=M.length,await a(n,w,window.structuredClone?window.structuredClone(y):y)}let S=t.headers.get("Content-Type")??"application/octet-stream";return new Response(new Blob(y,{type:S}),{status:t.status,statusText:t.statusText,headers:new Headers(t.headers)})});if(f===0||i)return v();if(g.method!=="GET")return console.warn("Only method GET can be cached"),v();let I=U(J);return I.has(l).then(t=>t?Promise.resolve(t):I.del(l).then(v).then(w=>I.set(l,w,x,f)))};if(u===0||d===0)return h();let E=async()=>{try{return await h()}catch(v){if(v.name===G)throw v;if(d*=2,m++,m>u)throw new Error(`Max retries reached: ${v}`);return console.warn(`Retrying fetch (${m}/${u}): ${l.toString()}`),await new Promise(I=>window.setTimeout(I,d)),E()}};return E()},C=l=>{if(l.status!==200)return Promise.resolve(l);let h=document.querySelector("a[download]");h&&document.body.removeChild(h);let E=l.headers.get("Content-Disposition")?.match(/filename="(.+)"/)?.[1];return l.clone().blob().then(v=>{let I=document.createElement("a"),t=window.URL.createObjectURL(v);return I.href=t,I.download=E||`${e}.${p||(v.type.split("/")?.[1]??"bin")}`,document.body.appendChild(I),I.click(),document.body.removeChild(I),window.URL.revokeObjectURL(t),l})};return{send(l=null){return e&&Object.keys(W).forEach(h=>g.headers.delete(h)),T(new URL(r,document.body.getAttribute("data-url"))).then(h=>e&&h.ok?C(h).then(E=>({code:E.status,data:E,error:null})):h.json().then(E=>{if(E.error){let v=E.error.at(0),I=h.status>=500;throw new Error(I?`ID: ${E.id}
\u{1F7E5} ${v}`:`\u{1F7E8} ${v}`)}return l&&(E.data=l(E.data)),Object.assign(E,{code:h.status})})).catch(h=>{if(h.name===G)return console.warn("Fetch aborted:",h),h;throw h.name===ue&&(h=new Error("\u{1F7E5} Network error or rate limit exceeded")),alert(h.message??String(h)),h})},withCache(l=1e3*60*60*6){return f=l,this},withForceCache(l=1e3*60*60*6){return x=!0,f===0&&(f=l),this},withNoBody(){return i=!0,this},withRetry(l=3,h=1e3){return u=l,d=h,this},withCancel(l){return l==null?this:((async()=>(await l,c.abort()))(),this)},withDownload(l,h=null){return e=l,p=h,this},withProgressFunc(l=null){return a=l,this},default(l=null){return g.headers=new Headers(l??{}),T(r).then(h=>e?C(h):Promise.resolve(h))},token(l){return l.split(".").length===3?(g.headers.append("Authorization","Bearer "+l),this):(g.headers.append("x-access-key",l),this)},body(l){if(g.method==="GET")throw new Error("GET method does not support body");return g.body=JSON.stringify(l),this}}};var K=(()=>{let o=null,r=()=>o.get("token"),c=p=>o.set("token",p),g=p=>H(V,"/api/session").body(p).send(z.tokenResponse).then(e=>(e.code===200&&c(e.data.token),e.code===200)),f=()=>o.unset("token"),u=()=>String(r()??".").split(".").length===3,d=p=>H("GET","/api/v2/config").withCache(1e3*60*30).withForceCache().token(p).send().then(e=>{if(e.code!==200)throw new Error("failed to get config.");let a=P("config");for(let[T,C]of Object.entries(e.data))a.set(T,C);return c(p),e}),m=()=>{if(!u())return null;try{return JSON.parse(A.base64Decode(r().split(".")[1]))}catch{return null}};return{init:()=>{o=P("session")},guest:d,isValid:()=>u()?(m()?.exp??0)>Date.now()/1e3:!1,login:g,logout:f,decode:m,isAdmin:u,setToken:c,getToken:r}})();var q=(()=>{let o={"#000000":"#ffffff","#ffffff":"#000000","#212529":"#f8f9fa","#f8f9fa":"#212529"},r=["#ffffff","#f8f9fa"],c=["#000000","#212529"],g=!1,f=null,u=null,d=()=>f.set("active","light"),m=()=>f.set("active","dark"),i=h=>{let E=u.getAttribute("content");u.setAttribute("content",h.some(v=>v===E)?o[E]:E)},x=()=>{d(),document.documentElement.setAttribute("data-bs-theme","light"),i(c)},p=()=>{m(),document.documentElement.setAttribute("data-bs-theme","dark"),i(r)},e=(h=null,E=null)=>{let v=f.get("active")==="dark";return h&&E?v?h:E:v};return{init:()=>{switch(f=P("theme"),u=document.querySelector('meta[name="theme-color"]'),f.has("active")||(window.matchMedia("(prefers-color-scheme: dark)").matches?m():d()),document.documentElement.getAttribute("data-bs-theme")){case"dark":m();break;case"light":d();break;default:g=!0}e()?p():x()},spyTop:()=>{let h=v=>v.filter(I=>I.isIntersecting).forEach(I=>{let t=I.target.classList.contains("bg-white-black")?e(c[0],r[0]):e(c[1],r[1]);u.setAttribute("content",t)}),E=new IntersectionObserver(h,{rootMargin:"0% 0% -95% 0%"});document.querySelectorAll("section").forEach(v=>E.observe(v))},change:()=>e()?x():p(),isDarkMode:e,isAutoMode:()=>g}})();var Q={tab:c=>window.bootstrap.Tab.getOrCreateInstance(document.getElementById(c)),modal:c=>window.bootstrap.Modal.getOrCreateInstance(document.getElementById(c))};var X=()=>window.confetti.shapeFromPath({path:"M256 472c-6-4-120-79-177-145C49 292 32 259 32 220 32 154 84 104 150 104c39 0 75 18 98 48 23-30 59-48 98-48 66 0 118 50 118 116 0 39-17 72-47 107-57 66-171 141-177 145-3 2-6 2-9 0z",matrix:[.06,0,0,.06,-15,-15]}),Y=()=>{window.confetti&&window.confetti({origin:{y:1},zIndex:1057})},Z=(o=3e4)=>{if(!window.confetti)return;let r=8,c=3,g=o*1e3,f=performance.now()+g,u=1e3/Math.max(1,r),d=X(),m=["#FFC0CB","#FF1493","#e70e0eff"],i=(e,a)=>Math.random()*(a-e)+e,x=0;function p(e){if(!(e>=f)){if(e-x>=u){x=e;let a=f-e,T=m[Math.random()*m.length|0];for(let C=0;C<c;C++)window.confetti({particleCount:1,startVelocity:0,ticks:Math.max(50,75*(a/g)),origin:{x:Math.random(),y:Math.abs(Math.random()-a/g)},zIndex:1057,colors:[T],shapes:[d],drift:i(-.5,.5),gravity:i(.5,1),scalar:i(.5,1)})}requestAnimationFrame(p)}}requestAnimationFrame(p)},ee=(o,r=50)=>{if(!window.confetti)return;let c=Date.now()+r,g=o.getBoundingClientRect(),f=Math.max(.3,Math.min(1,g.top/window.innerHeight+.2)),u=X(),d=["#FF69B4","#FF1493"],m=()=>{d.forEach(i=>{window.confetti({particleCount:2,angle:60,spread:55,shapes:[u],origin:{x:g.left/window.innerWidth,y:f},zIndex:1057,colors:[i]}),window.confetti({particleCount:2,angle:120,spread:55,shapes:[u],origin:{x:g.right/window.innerWidth,y:f},zIndex:1057,colors:[i]})}),Date.now()<c&&requestAnimationFrame(m)};requestAnimationFrame(m)};var D=o=>{let r=new Map,c=new Map,g=U(o),f=1e3*60*60*6,u=!1,d=(a,T)=>{if(!T.ok)throw new Error(T.statusText);return g.set(a,T,u,f)},m=a=>g.has(a),i=a=>g.del(a),x=(a,T=null)=>{if(r.has(a))return Promise.resolve(r.get(a));if(c.has(a))return c.get(a);let C=()=>H("GET",a).withCancel(T).withRetry().default(),l=m(a).then(h=>h?Promise.resolve(h):i(a).then(C).then(E=>d(a,E))).then(h=>h.blob()).then(h=>r.set(a,URL.createObjectURL(h))).then(()=>r.get(a)).finally(()=>c.delete(a));return c.set(a,l),l};return{run:(a,T=null)=>{let C=new Map;return a.length===0?Promise.resolve():(a.filter(l=>l!==null).forEach(l=>{let h=C.get(l.url)??[];C.set(l.url,[...h,[l.res,l?.rej]])}),Promise.allSettled(Array.from(C).map(([l,h])=>x(l,T).then(E=>(h.forEach(v=>v[0]?.(E)),E)).catch(E=>(h.forEach(v=>v[1]?.(E)),E)))))},del:i,has:m,set:d,get:x,open,download:async(a,T)=>{if(!new Map(Array.from(r.entries()).map(([l,h])=>[h,l])).has(a))try{if(!new URL(a).protocol.includes("blob"))throw new Error("Is not blob")}catch{a=await x(a)}return H("GET",a).withDownload(T).default()},setTtl(a){return f=Number(a),this},withForceCache(){return u=!0,this}}};var he=o=>{let r="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css",c="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js",g=()=>o.get(r).then(u=>new Promise((d,m)=>{let i=document.createElement("link");i.onload=d,i.onerror=m,i.rel="stylesheet",i.href=u,document.head.appendChild(i)})),f=()=>o.get(c).then(u=>new Promise((d,m)=>{let i=document.createElement("script");i.onload=d,i.onerror=m,i.src=u,document.head.appendChild(i)}));return Promise.all([g(),f()]).then(()=>{if(typeof window.AOS>"u")throw new Error("AOS library failed to load");window.AOS.init()})},ge=o=>o.get("https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.js").then(c=>new Promise((g,f)=>{let u=document.createElement("script");u.onerror=f,u.onload=()=>{typeof window.confetti>"u"?f(new Error("Confetti library failed to load")):g()},u.src=c,document.head.appendChild(u)})),pe=o=>{let r=[{css:"https://fonts.googleapis.com/css2?family=Noto+Naskh+Arabic&display=swap",family:"Noto Naskh Arabic"},{css:"https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap",family:"Dancing Script"}],c=({css:g,family:f})=>o.get(g).then(u=>new Promise((d,m)=>{let i=document.createElement("link");i.onload=d,i.onerror=m,i.rel="stylesheet",i.href=u,document.head.appendChild(i)})).then(()=>document.fonts.load(`1em "${f}"`));return Promise.all(r.map(c))},te=(o={})=>{let r=[],c=D("libs").withForceCache();return(o?.aos??!0)&&r.push(he(c)),(o?.confetti??!0)&&r.push(ge(c)),(o?.additionalFont??!0)&&r.push(pe(c)),Promise.all(r)};var L=(()=>{let o=null,r=null,c=0,g=0,f=!0,u=null;return{init:()=>{o=document.getElementById("progress-info"),r=document.getElementById("progress-bar"),o.classList.remove("d-none")},add:()=>{c+=1},invalid:e=>{f&&(f=!1,r.style.backgroundColor="red",o.innerText=`Error loading ${e}`,document.dispatchEvent(new Event("undangan.progress.invalid")))},complete:(e,a=!1)=>{f&&(g+=1,o.innerText="Loading Thi\u1EC7p m\u1EDDi...",r.style.width=Math.min(g/c*100,100).toString()+"%",g===c&&(f=!1,u=null,document.dispatchEvent(new Event("undangan.progress.done"))))},getAbort:()=>u}})();var ne=(()=>{let o='<i class="fa-solid fa-circle-pause spin-button"></i>',r='<i class="fa-solid fa-circle-play"></i>',c=async(u=!0)=>{let d=document.body.getAttribute("data-audio");if(!d){L.complete("audio",!0);return}let m=null;try{m=new Audio(await D("audio").withForceCache().get(d,L.getAbort())),m.loop=!0,m.muted=!1,m.autoplay=!1,m.controls=!1,L.complete("audio")}catch{L.invalid("audio");return}let i=!1,x=document.getElementById("button-music"),p=async()=>{if(!(!navigator.onLine||!x)){x.disabled=!0;try{await m.play(),i=!0,x.disabled=!1,x.innerHTML=o}catch(a){i=!1,A.notify(a).error()}}},e=()=>{i=!1,m.pause(),x.innerHTML=r};document.addEventListener("undangan.open",()=>{x.classList.remove("d-none"),u&&p()}),x.addEventListener("offline",e),x.addEventListener("click",()=>i?e():p())},g=()=>{let u=document.getElementById("button-scroll-top");u&&u.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})};return{init:()=>(g(),{load:c})}})();var oe=(()=>{let o=null,r=null,c=[],g=e=>new Promise((a,T)=>{let C=new Image;C.onload=()=>a(C),C.onerror=T,C.src=e}),f=(e,a)=>g(a).then(T=>{e.width=T.naturalWidth,e.height=T.naturalHeight,e.classList.remove("opacity-0"),e.src=T.src,T.remove(),L.complete("image")}),u=e=>{c.push({url:e.getAttribute("data-src"),res:a=>f(e,a),rej:a=>{console.error(a),L.invalid("image")}})},d=e=>{e.onerror=()=>L.invalid("image"),e.onload=()=>{e.width=e.naturalWidth,e.height=e.naturalHeight,L.complete("image")},e.complete&&e.naturalWidth!==0&&e.naturalHeight!==0?L.complete("image"):e.complete&&L.invalid("image")},m=()=>Array.from(o).some(e=>e.hasAttribute("data-src")),i=async()=>{let e=Array.from(o),a=async T=>{c.length=0,e.filter(T).forEach(C=>C.hasAttribute("data-src")?u(C):d(C)),await r.run(c,L.getAbort())};await a(T=>T.hasAttribute("fetchpriority")),await a(T=>!T.hasAttribute("fetchpriority"))},x=e=>{r.download(e,`${window.location.hostname}_image_${Date.now()}`)};return{init:()=>(r=D("image").withForceCache(),o=document.querySelectorAll("img"),{load:i,download:x,hasDataSrc:m})}})();var re="131020",F="261020",se=(()=>{let o=null,r=null,c=()=>{let s=window.location.search.replace("?","").split("&").find(b=>b.startsWith("m="))?.split("=")[1];return[F,re].includes(s)?s:F},g=()=>{let s=window.location.search.replace("?","").split("&").find(b=>b.startsWith("t="))?.split("=")[1],S=parseInt(s);return isNaN(S)||S<0||S>23?"18":S.toString().padStart(2,"0")},f=()=>{let n=c(),s=n===F?"2025-11-23 11:30":`2025-11-22 ${g()}:00`,S=n===F?"23-11-2025":"22-11-2025";document.body.setAttribute("data-time",s),document.querySelectorAll(".date-start").forEach(b=>{b.textContent=S}),n===re&&(document.getElementById("invite-time").textContent=`${g()}:00`)},u=()=>{let n=new Date(document.body.getAttribute("data-time").replace(" ","T")).getTime(),s=k=>k<10?`0${k}`:`${k}`,S=document.getElementById("day"),b=document.getElementById("hour"),M=document.getElementById("minute"),O=document.getElementById("second"),R=()=>{let k=Math.abs(n-Date.now());S.textContent=s(Math.floor(k/(1e3*60*60*24))),b.textContent=s(Math.floor(k%(1e3*60*60*24)/(1e3*60*60))),M.textContent=s(Math.floor(k%(1e3*60*60)/(1e3*60))),O.textContent=s(Math.floor(k%(1e3*60)/1e3)),A.timeOut(R,1e3-Date.now()%1e3)};A.timeOut(R)},d=()=>{let n=window.location.search.split("to="),s=null;if(n.length>1&&n[1].length>=1&&(s=window.decodeURIComponent(n[1])),s){let S=document.getElementById("guest-name"),b=document.createElement("div");b.classList.add("m-2");let M=`<small class="mt-0 mb-1 mx-0 p-0">${A.escapeHtml(S?.getAttribute("data-message"))}</small><p class="m-0 p-0" style="font-size: 1.25rem">${A.escapeHtml(s)}</p>`;A.safeInnerHTML(b,M),S?.appendChild(b)}},m=async()=>{let s=document.querySelectorAll(".slide-desktop");if(!s||s.length===0)return;let S=document.getElementById("root")?.querySelector(".d-sm-block");if(!S||(S.dispatchEvent(new Event("undangan.slide.stop")),window.getComputedStyle(S).display==="none"))return;if(s.length===1){await A.changeOpacity(s[0],!0);return}let b=0;for(let[k,$]of s.entries())if(k===b){$.classList.add("slide-desktop-active"),await A.changeOpacity($,!0);break}let M=!0,O=async()=>(await A.changeOpacity(s[b],!1),s[b].classList.remove("slide-desktop-active"),b=(b+1)%s.length,M&&(s[b].classList.add("slide-desktop-active"),await A.changeOpacity(s[b],!0)),M);S.addEventListener("undangan.slide.stop",()=>{M=!1});let R=async()=>{await O()&&A.timeOut(R,6e3)};A.timeOut(R,6e3)},i=async()=>{let s=window.location.search.replace("?","").split("&").find(O=>O.startsWith("g="))?.split("=")[1]||"1",M=(await(await fetch("./assets/guests/data.json")).json()).find(O=>O.id===s);M&&(document.getElementById("form-name").value=M.name,document.getElementById("guest-name").innerHTML=M.name)},x=()=>{let n=c();document.getElementById(n)?.classList.toggle("d-none");let s=document.getElementById(`time-${n}`);s&&s.classList.toggle("d-none")},p=n=>{n.disabled=!0,document.body.scrollIntoView({behavior:"instant"}),document.getElementById("root").classList.remove("opacity-0"),q.isAutoMode()&&document.getElementById("button-theme").classList.remove("d-none"),m(),q.spyTop(),Y(),A.timeOut(Z,1500),document.dispatchEvent(new Event("undangan.open")),A.changeOpacity(document.getElementById("welcome"),!1).then(s=>s.remove()),i(),x()},e=n=>{document.getElementById("button-modal-click").setAttribute("href",n.src),document.getElementById("button-modal-download").setAttribute("data-src",n.src);let s=document.getElementById("show-modal-image");s.src=n.src,s.width=n.width,s.height=n.height,Q.modal("modal-image").show()},a=()=>{document.getElementById("show-modal-image").addEventListener("click",n=>{let s=n.currentTarget.parentNode.querySelector(".position-absolute");s.classList.contains("d-none")?s.classList.replace("d-none","d-flex"):s.classList.replace("d-flex","d-none")})},T=n=>{navigator.vibrate&&navigator.vibrate(500),ee(n,100),A.changeOpacity(n,!1).then(s=>s.remove())},C=()=>o.set("info",!0),l=()=>{document.querySelectorAll(".font-arabic").forEach(n=>{n.innerHTML=String(n.innerHTML).normalize("NFC")})},h=()=>{document.querySelectorAll("svg").forEach(n=>{n.hasAttribute("data-class")&&A.timeOut(()=>n.classList.add(n.getAttribute("data-class")),parseInt(n.getAttribute("data-time")))})},E=()=>{let n=k=>new Date(k.replace(" ","T")+":00Z").toISOString().replace(/[-:]/g,"").split(".").shift(),s=document.body.getAttribute("data-time"),b=((k,$=5)=>{let B=new Date(k.replace(" ","T"));B.setHours(B.getHours()+$);let ae=B.getFullYear(),ie=String(B.getMonth()+1).padStart(2,"0"),ce=String(B.getDate()).padStart(2,"0"),de=String(B.getHours()).padStart(2,"0"),le=String(B.getMinutes()).padStart(2,"0");return`${ae}-${ie}-${ce} ${de}:${le}`})(s,5),M=c(),O=new URL("https://calendar.google.com/calendar/render"),R=new URLSearchParams({action:"TEMPLATE",text:"L\u1EC5 c\u01B0\u1EDBi H\u1EEFu Chinh & Thanh Tr\xFAc",dates:`${n(s)}/${n(b)}`,details:"Ch\xFAng t\xF4i h\xE2n h\u1EA1nh m\u1EDDi Qu\xFD v\u1ECB \u0111\u1EBFn chung vui trong ng\xE0y tr\u1ECDng \u0111\u1EA1i c\u1EE7a ch\xFAng t\xF4i. S\u1EF1 c\xF3 m\u1EB7t v\xE0 l\u1EDDi ch\xFAc c\u1EE7a Qu\xFD v\u1ECB ch\xEDnh l\xE0 m\xF3n qu\xE0 \xFD ngh\u0129a nh\u1EA5t.",location:M===F?"5J8P+HC7, Th\u1EA1nh Tr\u1ECB, B\xECnh \u0110\u1EA1i, B\u1EBFn Tre":"5PC2+9Q2 B\xECnh \u0110\u1EA1i, B\u1EBFn Tre",ctz:r.get("vn")});O.search=R.toString(),document.querySelector("#home button")?.addEventListener("click",()=>window.open(O,"_blank"))},v=()=>({load:s=>{te(s).then(()=>L.complete("libs")).catch(()=>L.invalid("libs"))}}),I=async()=>{f(),h(),u(),d(),a(),l(),E(),o.has("presence")&&(document.getElementById("form-presence").value=o.get("presence")?"1":"2"),o.get("info")&&document.getElementById("information")?.remove(),await A.changeOpacity(document.getElementById("welcome"),!0),await A.changeOpacity(document.getElementById("loading"),!1).then(n=>n.remove())},t=()=>{L.init(),r=P("config"),o=P("information");let n=oe.init(),s=ne.init(),S=v();I(),window.addEventListener("resize",A.debounce(m)),document.addEventListener("hide.bs.modal",()=>document.activeElement?.blur()),document.getElementById("button-modal-download").addEventListener("click",b=>{n.download(b.currentTarget.getAttribute("data-src"))}),n.load(),s.load(),S.load({confetti:document.body.getAttribute("data-confetti")==="true",additionalFont:!0}),document.dispatchEvent(new Event("undangan.session"))},w=n=>{let s=document.getElementById("form-name");if(s.value.length===0){A.notify("Vui l\xF2ng \u0111i\u1EC1n t\xEAn!").warning(),s.focus();return}let S=document.getElementById("form-presence");if(S&&S.value==="0"){A.notify("Vui l\xF2ng ch\u1ECDn tr\u1EA1ng th\xE1i tham d\u1EF1.").warning();return}let b=document.getElementById("form-comment");if(b&&!b.value){A.notify("Vui l\xF2ng nh\u1EADp l\u1EDDi ch\xFAc c\u1EE7a b\u1EA1n.").warning();return}A.notify("C\u1EA3m \u01A1n b\u1EA1n \u0111\xE3 g\u1EEDi l\u1EDDi ch\xFAc.").info(),n.disabled=!0};return{init:()=>(q.init(),K.init(),window.addEventListener("load",()=>{N.init(t,["image","audio","libs"])}),{sendComment:w,util:A,theme:q,guest:{open:p,modal:e,showStory:T,closeInformation:C}})}})();(o=>{o.undangan=se.init()})(window);})();
